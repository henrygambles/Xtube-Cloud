<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>XTube Cloud</title>
  <link
    rel="icon"
    href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='0.9em' font-size='90'%3E%F0%9F%93%BA%3C/text%3E%3C/svg%3E"
  >
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Unbounded:wght@600;700&display=swap"
    rel="stylesheet"
  >
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <div class="logo">XTube Cloud</div>
      <span class="tagline">Cloud-native video streams, delivered at the edge.</span>
    </div>
    <div class="user-block">
      <div class="profile-thumb" id="profile-thumb"></div>
      <div class="user-meta">
        <div id="user-status" class="user-status">Not signed in</div>
        <div class="auth-actions">
          <button id="signup-toggle" class="ghost-btn">Sign up</button>
          <button id="login-toggle" class="ghost-btn">Log in</button>
          <button id="logout-btn" class="ghost-btn danger hidden">Log out</button>
        </div>
      </div>
    </div>
  </header>

  <div class="auth-panels">
    <form id="signup-form" class="auth-card hidden">
      <div class="auth-title">Create account</div>
      <input id="signup-username" name="username" placeholder="Username" required minlength="3" maxlength="32">
      <input id="signup-password" name="password" type="password" placeholder="Password (6+ chars)" required minlength="6">
      <button type="submit" class="primary">Sign up</button>
      <div class="auth-note">One profile picture per user. You can add it after you log in.</div>
    </form>
    <form id="login-form" class="auth-card hidden">
      <div class="auth-title">Welcome back</div>
      <input id="login-username" name="username" placeholder="Username" required>
      <input id="login-password" name="password" type="password" placeholder="Password" required>
      <button type="submit" class="primary">Log in</button>
    </form>
    <form id="profile-form" class="auth-card hidden" enctype="multipart/form-data">
      <div class="auth-title">Profile picture</div>
      <label class="file-label">
        <input type="file" id="profile-file" name="file" accept="image/*">
        <span>Upload image</span>
      </label>
      <div class="auth-note">Stored in your cloud profile.</div>
    </form>
  </div>

  <main class="layout">
    <section class="video-column">
      <div class="player-shell" id="player-container">
        <iframe
          id="player"
          class="stream-embed"
          title="Cloudflare Stream Player"
          loading="lazy"
          allow="accelerometer; gyroscope; autoplay; encrypted-media; picture-in-picture;"
          allowfullscreen="true"
        ></iframe>
        <button id="fullscreen-btn" class="fullscreen-btn">‚§¢ Fullscreen</button>
      </div>
      <div class="video-header">
        <h1 id="video-title">Select a Cloudflare stream to get started.</h1>
        <div class="video-meta">
          <span id="view-count">0 views</span>
          <span id="upload-date"></span>
          <div class="reaction-bar">
            <button id="like-btn" class="pill">üëç <span id="like-count">0</span></button>
            <button id="dislike-btn" class="pill">üëé <span id="dislike-count">0</span></button>
            <div class="ratio">
              <div class="ratio-fill" id="ratio-fill"></div>
              <span id="ratio-text">0% liked</span>
            </div>
          </div>
        </div>
      </div>

      <section class="comments">
        <div class="comments-header">
          <h2>Comments</h2>
          <span id="comment-count" class="muted">(0)</span>
        </div>
        <form id="comment-form" class="comment-form">
          <textarea id="comment-input" placeholder="Add a public comment..." rows="3" maxlength="500"></textarea>
          <button type="submit" class="primary">Comment</button>
        </form>
        <div id="comments-list" class="comments-list"></div>
      </section>
    </section>

    <aside class="sidebar">
      <div class="sidebar-title">Cloud Library</div>
      <div id="suggested-list" class="suggested-list"></div>
    </aside>
  </main>

  <footer class="footer">
    Cloud-native library powered by Cloudflare Stream. Likes, views, and comments stay local to this platform.
  </footer>

  <script src="app.js"></script>
</body>
</html>
